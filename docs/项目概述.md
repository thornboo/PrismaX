# PrismaX-Desktop 项目概述

> 新一代 AI 聊天助手桌面应用 —— 功能丰富、本地运行、极致体验

---

## 项目愿景

打造一款功能丰富的本地 AI 聊天助手桌面应用，支持：

- **桌面应用** - 本地运行，数据私密，启动快速
- **多模型支持** - OpenAI、Claude、Gemini、本地模型等
- **离线能力** - 支持 Ollama 本地模型，无需联网
- **跨平台** - Windows / macOS / Linux

---

## 核心功能

### 对话能力

- 多模型聊天（OpenAI、Claude、Gemini、本地模型等）
- 流式响应实时显示
- 完整 Markdown 渲染（代码高亮、表格、公式、图表）
- 多轮对话上下文管理
- 会话分支与历史管理
- 标签页多会话支持

### 知识增强

- 知识库 RAG（向量检索、文档问答）
- 多格式文档支持（PDF、Markdown、Word 等）
- 智能分块与检索优化

### 扩展能力

- Agent 系统（工具调用、自动化任务）
- MCP 协议支持（Model Context Protocol）
- 插件系统（第三方扩展）
- Ollama 本地模型集成

### 用户体验

- 快速启动，流畅交互
- 精美现代的界面设计
- 深色/浅色主题
- 多语言支持
- 丰富的快捷键
- 系统托盘支持

---

## 技术栈

### 前端（渲染进程）

| 类别     | 技术            | 说明                  |
| -------- | --------------- | --------------------- |
| 构建工具 | Vite 6          | 极速 HMR，构建快      |
| UI 框架  | React 19        | 最新版本              |
| 类型系统 | TypeScript 5.7+ | 严格模式              |
| 路由     | React Router 7  | 客户端路由            |
| 状态管理 | Zustand 5       | 轻量 + persist 持久化 |
| 样式     | Tailwind CSS 4  | 原子化 CSS            |
| UI 组件  | shadcn/ui       | 可定制、现代设计      |
| 动画     | framer-motion   | 流畅动画              |

### 主进程（Electron）

| 类别   | 技术             | 说明             |
| ------ | ---------------- | ---------------- |
| 框架   | Electron 33      | 跨平台桌面应用   |
| 数据库 | better-sqlite3   | 高性能本地数据库 |
| ORM    | Drizzle          | 类型安全、轻量   |
| AI SDK | @ai-sdk/openai   | 流式响应支持     |
| 打包   | electron-builder | 多平台打包       |

详细技术栈分析请参阅 [技术栈](./技术栈/) 目录。

---

## 文档索引

| 目录                         | 说明               |
| ---------------------------- | ------------------ |
| [改造计划.md](./改造计划.md) | 项目改造计划       |
| [技术栈](./技术栈/)          | 技术选型与对比     |
| [架构文档](./架构文档/)      | 系统架构设计       |
| [功能规划](./功能规划/)      | 功能列表与优先级   |
| [开发指南](./开发指南/)      | 开发环境与代码规范 |

---

## 项目状态

| 阶段     | 状态      | 说明                       |
| -------- | --------- | -------------------------- |
| 需求分析 | ✅ 已完成 | 功能规划完成               |
| 技术选型 | ✅ 已完成 | Electron + Vite + React    |
| 架构设计 | ✅ 已完成 | 纯桌面端架构               |
| 项目改造 | 🔄 进行中 | 从 Monorepo 改造为单一项目 |
| 功能开发 | ⏳ 待开始 | -                          |
| 测试发布 | ⏳ 待开始 | -                          |

---

## 已确认决策

| #   | 决策项    | 结论              | 说明                       |
| --- | --------- | ----------------- | -------------------------- |
| 1   | 项目类型  | 纯桌面端应用      | 不再包含 Web 版本          |
| 2   | 桌面框架  | Electron          | 成熟生态，UI 一致性        |
| 3   | 前端构建  | Vite              | 替换 Next.js，提升开发体验 |
| 4   | UI 组件库 | shadcn/ui         | 高度可定制                 |
| 5   | 状态管理  | Zustand + persist | 轻量 + 持久化              |
| 6   | 本地模型  | Ollama 集成       | P0 功能                    |
| 7   | 系统托盘  | 需要              | 防止误关闭                 |
| 8   | 自动更新  | 仅检查更新        | 用户手动下载安装           |
| 9   | 多窗口    | 不需要            | 使用标签页替代             |
